# CellViT++ 프로젝트 진행 상황

## 완료된 작업

### 1. 데이터셋 변환 및 검증
- COCO 형식 → CellViT++ 형식 변환
- 클래스 매핑 수정 (NT: 9 → 4)
- Train/Val 분할 (90:10)
- 데이터셋 검증
  * 클래스 분포 확인
  * 데이터 로딩 테스트
  * 배치 처리 검증

### 2. 구현된 기능
- `convert_coco_to_cellvit.py`: COCO → CellViT++ 변환
- `test_cellvit_dataset_loading.py`: 데이터셋 로딩 테스트
- `test_training_dataset_loading.py`: 학습 파이프라인 테스트
- Custom collate_fn: 가변 크기 데이터 처리

### 3. 문서화
- 데이터셋 변환 프로세스 문서화
- 클래스 분포 및 통계 기록
- 주의사항 및 고려사항 정리

## 진행 예정 작업

### 1. 모델 학습 및 검증
- [ ] 단일 GPU 학습 실행
- [ ] 학습된 모델로 test set 검증
- [ ] Slide set으로 성능 평가
- [ ] 원본 TIFF 파일 처리 및 검증

### 2. 분산 학습 구현 (DDP)
- [ ] torchrun 설정
- [ ] DistributedSampler 구현
  * 데이터 분할 전략 수립
  * 배치 크기 조정
- [ ] DistributedDataParallel 적용
  * 모델 래핑
  * 그래디언트 동기화 설정

### 3. 모니터링 및 로깅
- [ ] wandb 설정
  * 학습 지표 정의
  * 시각화 설정
- [ ] 분산 학습 모니터링
  * GPU 별 성능 추적
  * 동기화 상태 확인

### 4. 최적화 및 개선
- [ ] 학습 파이프라인 최적화
- [ ] 데이터 로딩 성능 개선
- [ ] 메모리 사용량 최적화

## 주의사항
1. 데이터셋
   - 전체 데이터의 일부만 사용 중
   - 클래스 불균형 존재 (클래스 4가 약 45-50%)

2. 분산 학습
   - GPU 메모리 사용량 고려
   - 배치 크기 조정 필요
   - 동기화 오버헤드 관리

3. 성능 평가
   - WSI 레벨 검증 필요
   - 클래스별 성능 분석 중요 
[37m2024-07-10 20:13:51,544 [INFO] - <All keys matched successfully>
[37m2024-07-10 20:13:52,721 [INFO] - <All keys matched successfully>
[37m2024-07-10 20:13:52,722 [INFO] - Loading inference transformations
[37m2024-07-10 20:14:07,690 [INFO] - Extraction detection metrics - F1: 0.769, Precision: 0.873, Recall: 0.700
[37m2024-07-10 20:14:07,865 [INFO] - Global Scores - Without taking cell detection quality into account:
[37m2024-07-10 20:14:07,865 [INFO] - F1: 0.861 - Prec: 0.861 - Rec: 0.861 - Acc: 0.861 - Auroc: 0.967
[37m2024-07-10 20:14:09,590 [INFO] - Updating PanNuke-cell-preds with dataset specific classes
[37m2024-07-10 20:14:10,496 [INFO] - Calculating dataset scores according to TIA Evaluation guidelines
[37m2024-07-10 20:14:12,116 [INFO] - {'Pre/tumor_any': 0.7108, 'Rec/tumor_any': 0.925, 'F1/tumor_any': 0.8039, 'Pre/nonTIL_stromal': 0.6588, 'Rec/nonTIL_stromal': 0.7979, 'F1/nonTIL_stromal': 0.7217, 'Pre/sTIL': 0.7286, 'Rec/sTIL': 0.9342, 'F1/sTIL': 0.8187, 'Pre/other_nucleus': 0.9154, 'Rec/other_nucleus': 0.419, 'F1/other_nucleus': 0.5749, 'mF1': 0.7297999999999999}
[37m2024-07-10 20:14:12,117 [INFO] - **************************************************
[37m2024-07-10 20:14:12,121 [INFO] - {
  "cellvit_scores": {
    "F1": 0.7689866510773234,
    "Prec": 0.8734704122769809,
    "Rec": 0.7004049116847819
  },
  "classifier": {
    "global": {
      "F1": 0.8608449697494507,
      "Prec": 0.8608449697494507,
      "Rec": 0.8608449697494507,
      "Acc": 0.8608449697494507,
      "Auroc": 0.9667834639549255,
      "AP": 0.8900721073150635
    }
  },
  "pipeline": {
    "detection_scores_tia": {
      "binary": {
        "f1": 0.7758908170196999,
        "prec": 0.7004125320548557,
        "rec": 0.8696013289036545
      },
      "cell_types": {
        "tumor_any": {
          "f1": 0.6639057024530105,
          "prec": 0.5787281310747014,
          "rec": 0.7784833769144565
        },
        "nonTIL_stromal": {
          "f1": 0.40916849548890516,
          "prec": 0.38223234624145785,
          "rec": 0.44018887722980066
        },
        "sTIL": {
          "f1": 0.6802059496567505,
          "prec": 0.6075625958099131,
          "rec": 0.7725795971410007
        },
        "other_nucleus": {
          "f1": 0.37543859649122807,
          "prec": 0.8045112781954887,
          "rec": 0.2448512585812357
        }
      }
    },
    "scores_ocelot": {
      "Pre/tumor_any": 0.7108,
      "Rec/tumor_any": 0.925,
      "F1/tumor_any": 0.8039,
      "Pre/nonTIL_stromal": 0.6588,
      "Rec/nonTIL_stromal": 0.7979,
      "F1/nonTIL_stromal": 0.7217,
      "Pre/sTIL": 0.7286,
      "Rec/sTIL": 0.9342,
      "F1/sTIL": 0.8187,
      "Pre/other_nucleus": 0.9154,
      "Rec/other_nucleus": 0.419,
      "F1/other_nucleus": 0.5749,
      "mF1": 0.7297999999999999
    }
  }
}

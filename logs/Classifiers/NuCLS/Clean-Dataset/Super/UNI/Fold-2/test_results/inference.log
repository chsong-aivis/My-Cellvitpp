[37m2024-07-10 20:13:32,645 [INFO] - <All keys matched successfully>
[37m2024-07-10 20:13:36,243 [INFO] - <All keys matched successfully>
[37m2024-07-10 20:13:36,252 [INFO] - Loading inference transformations
[37m2024-07-10 20:14:00,484 [INFO] - Extraction detection metrics - F1: 0.769, Precision: 0.873, Recall: 0.700
[37m2024-07-10 20:14:00,843 [INFO] - Global Scores - Without taking cell detection quality into account:
[37m2024-07-10 20:14:00,844 [INFO] - F1: 0.851 - Prec: 0.851 - Rec: 0.851 - Acc: 0.851 - Auroc: 0.961
[37m2024-07-10 20:14:03,189 [INFO] - Updating PanNuke-cell-preds with dataset specific classes
[37m2024-07-10 20:14:04,278 [INFO] - Calculating dataset scores according to TIA Evaluation guidelines
[37m2024-07-10 20:14:06,238 [INFO] - {'Pre/tumor_any': 0.7433, 'Rec/tumor_any': 0.8895, 'F1/tumor_any': 0.8099, 'Pre/nonTIL_stromal': 0.5972, 'Rec/nonTIL_stromal': 0.8661, 'F1/nonTIL_stromal': 0.707, 'Pre/sTIL': 0.7505, 'Rec/sTIL': 0.9314, 'F1/sTIL': 0.8312, 'Pre/other_nucleus': 0.7383, 'Rec/other_nucleus': 0.3873, 'F1/other_nucleus': 0.5081, 'mF1': 0.7140500000000001}
[37m2024-07-10 20:14:06,243 [INFO] - **************************************************
[37m2024-07-10 20:14:06,245 [INFO] - {
  "cellvit_scores": {
    "F1": 0.7689866510773234,
    "Prec": 0.8734704122769809,
    "Rec": 0.7004049116847819
  },
  "classifier": {
    "global": {
      "F1": 0.8514214158058167,
      "Prec": 0.8514214158058167,
      "Rec": 0.8514214158058167,
      "Acc": 0.8514214158058167,
      "Auroc": 0.960859477519989,
      "AP": 0.8506196737289429
    }
  },
  "pipeline": {
    "detection_scores_tia": {
      "binary": {
        "f1": 0.7758908170196999,
        "prec": 0.7004125320548557,
        "rec": 0.8696013289036545
      },
      "cell_types": {
        "tumor_any": {
          "f1": 0.6719011025726696,
          "prec": 0.6214462299134734,
          "rec": 0.7312727272727273
        },
        "nonTIL_stromal": {
          "f1": 0.40599515098082434,
          "prec": 0.3394765941761887,
          "rec": 0.5049342105263158
        },
        "sTIL": {
          "f1": 0.6688808664259928,
          "prec": 0.611889035667107,
          "rec": 0.7375796178343949
        },
        "other_nucleus": {
          "f1": 0.32195121951219513,
          "prec": 0.5823529411764706,
          "rec": 0.22247191011235956
        }
      }
    },
    "scores_ocelot": {
      "Pre/tumor_any": 0.7433,
      "Rec/tumor_any": 0.8895,
      "F1/tumor_any": 0.8099,
      "Pre/nonTIL_stromal": 0.5972,
      "Rec/nonTIL_stromal": 0.8661,
      "F1/nonTIL_stromal": 0.707,
      "Pre/sTIL": 0.7505,
      "Rec/sTIL": 0.9314,
      "F1/sTIL": 0.8312,
      "Pre/other_nucleus": 0.7383,
      "Rec/other_nucleus": 0.3873,
      "F1/other_nucleus": 0.5081,
      "mF1": 0.7140500000000001
    }
  }
}

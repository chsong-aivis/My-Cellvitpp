[37m2024-07-10 19:52:42,653 [INFO] - <All keys matched successfully>
[37m2024-07-10 19:52:43,614 [INFO] - <All keys matched successfully>
[37m2024-07-10 19:52:43,615 [INFO] - Loading inference transformations
[37m2024-07-10 19:53:02,576 [INFO] - Extraction detection metrics - F1: 0.770, Precision: 0.883, Recall: 0.695
[37m2024-07-10 19:53:02,782 [INFO] - Global Scores - Without taking cell detection quality into account:
[37m2024-07-10 19:53:02,783 [INFO] - F1: 0.661 - Prec: 0.661 - Rec: 0.661 - Acc: 0.661 - Auroc: 0.897
[37m2024-07-10 19:53:05,769 [INFO] - Updating PanNuke-cell-preds with dataset specific classes
[37m2024-07-10 19:53:06,965 [INFO] - Calculating dataset scores according to TIA Evaluation guidelines
[37m2024-07-10 19:53:09,426 [INFO] - {'Pre/tumor_nonMitotic': 0.6767, 'Rec/tumor_nonMitotic': 0.9167, 'F1/tumor_nonMitotic': 0.7786, 'Pre/tumor_mitotic': 0.0, 'Rec/tumor_mitotic': 0.0, 'F1/tumor_mitotic': 0.0, 'Pre/nonTILnonMQ_stromal': 0.596, 'Rec/nonTILnonMQ_stromal': 0.7692, 'F1/nonTILnonMQ_stromal': 0.6716, 'Pre/macrophage': 0.1714, 'Rec/macrophage': 0.0508, 'F1/macrophage': 0.0784, 'Pre/lymphocyte': 0.4929, 'Rec/lymphocyte': 0.8736, 'F1/lymphocyte': 0.6302, 'Pre/plasma_cell': 0.6544, 'Rec/plasma_cell': 0.4178, 'F1/plasma_cell': 0.51, 'Pre/other_nucleus': 0.6, 'Rec/other_nucleus': 0.0106, 'F1/other_nucleus': 0.0208, 'mF1': 0.3842285714285714}
[37m2024-07-10 19:53:09,427 [INFO] - **************************************************
[37m2024-07-10 19:53:09,431 [INFO] - {
  "cellvit_scores": {
    "F1": 0.7703041760251617,
    "Prec": 0.8832641121519952,
    "Rec": 0.695454830249982
  },
  "classifier": {
    "global": {
      "F1": 0.6611326336860657,
      "Prec": 0.6611326336860657,
      "Rec": 0.6611326336860657,
      "Acc": 0.6611326336860657,
      "Auroc": 0.8970046639442444,
      "AP": 0.46259358525276184
    }
  },
  "pipeline": {
    "detection_scores_tia": {
      "binary": {
        "f1": 0.7757627741698321,
        "prec": 0.6958672235656188,
        "rec": 0.8763842746400886
      },
      "cell_types": {
        "tumor_nonMitotic": {
          "f1": 0.597501523461304,
          "prec": 0.5132164354880921,
          "rec": 0.7149106817353262
        },
        "tumor_mitotic": {
          "f1": 0.0,
          "prec": NaN,
          "rec": 0.0
        },
        "nonTILnonMQ_stromal": {
          "f1": 0.3477837311251827,
          "prec": 0.312472647702407,
          "rec": 0.39209225700164746
        },
        "macrophage": {
          "f1": 0.02181818181818182,
          "prec": 0.05454545454545454,
          "rec": 0.013636363636363636
        },
        "lymphocyte": {
          "f1": 0.40669322709163347,
          "prec": 0.3065097285611338,
          "rec": 0.6041666666666666
        },
        "plasma_cell": {
          "f1": 0.15719899964272954,
          "prec": 0.2386117136659436,
          "rec": 0.11720831113478956
        },
        "other_nucleus": {
          "f1": 0.0,
          "prec": 0.0,
          "rec": 0.0
        }
      }
    },
    "scores_ocelot": {
      "Pre/tumor_nonMitotic": 0.6767,
      "Rec/tumor_nonMitotic": 0.9167,
      "F1/tumor_nonMitotic": 0.7786,
      "Pre/tumor_mitotic": 0.0,
      "Rec/tumor_mitotic": 0.0,
      "F1/tumor_mitotic": 0.0,
      "Pre/nonTILnonMQ_stromal": 0.596,
      "Rec/nonTILnonMQ_stromal": 0.7692,
      "F1/nonTILnonMQ_stromal": 0.6716,
      "Pre/macrophage": 0.1714,
      "Rec/macrophage": 0.0508,
      "F1/macrophage": 0.0784,
      "Pre/lymphocyte": 0.4929,
      "Rec/lymphocyte": 0.8736,
      "F1/lymphocyte": 0.6302,
      "Pre/plasma_cell": 0.6544,
      "Rec/plasma_cell": 0.4178,
      "F1/plasma_cell": 0.51,
      "Pre/other_nucleus": 0.6,
      "Rec/other_nucleus": 0.0106,
      "F1/other_nucleus": 0.0208,
      "mF1": 0.3842285714285714
    }
  }
}

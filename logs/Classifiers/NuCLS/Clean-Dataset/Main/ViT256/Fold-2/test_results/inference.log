[37m2024-07-10 19:52:36,555 [INFO] - <All keys matched successfully>
[37m2024-07-10 19:52:36,955 [INFO] - <All keys matched successfully>
[37m2024-07-10 19:52:36,956 [INFO] - Loading inference transformations
[37m2024-07-10 19:52:58,148 [INFO] - Extraction detection metrics - F1: 0.770, Precision: 0.883, Recall: 0.695
[37m2024-07-10 19:52:58,371 [INFO] - Global Scores - Without taking cell detection quality into account:
[37m2024-07-10 19:52:58,371 [INFO] - F1: 0.642 - Prec: 0.642 - Rec: 0.642 - Acc: 0.642 - Auroc: 0.879
[37m2024-07-10 19:53:01,284 [INFO] - Updating PanNuke-cell-preds with dataset specific classes
[37m2024-07-10 19:53:02,576 [INFO] - Calculating dataset scores according to TIA Evaluation guidelines
[37m2024-07-10 19:53:04,956 [INFO] - {'Pre/tumor_nonMitotic': 0.699, 'Rec/tumor_nonMitotic': 0.8907, 'F1/tumor_nonMitotic': 0.7833, 'Pre/tumor_mitotic': 0.1429, 'Rec/tumor_mitotic': 0.0227, 'F1/tumor_mitotic': 0.0392, 'Pre/nonTILnonMQ_stromal': 0.5767, 'Rec/nonTILnonMQ_stromal': 0.7755, 'F1/nonTILnonMQ_stromal': 0.6615, 'Pre/macrophage': 0.3415, 'Rec/macrophage': 0.1186, 'F1/macrophage': 0.1761, 'Pre/lymphocyte': 0.4912, 'Rec/lymphocyte': 0.849, 'F1/lymphocyte': 0.6224, 'Pre/plasma_cell': 0.6355, 'Rec/plasma_cell': 0.4911, 'F1/plasma_cell': 0.554, 'Pre/other_nucleus': 0.283, 'Rec/other_nucleus': 0.0528, 'F1/other_nucleus': 0.089, 'mF1': 0.4179285714285714}
[37m2024-07-10 19:53:04,958 [INFO] - **************************************************
[37m2024-07-10 19:53:04,963 [INFO] - {
  "cellvit_scores": {
    "F1": 0.7703041760251617,
    "Prec": 0.8832641121519952,
    "Rec": 0.695454830249982
  },
  "classifier": {
    "global": {
      "F1": 0.6417377591133118,
      "Prec": 0.6417377591133118,
      "Rec": 0.6417377591133118,
      "Acc": 0.6417377591133118,
      "Auroc": 0.8789118528366089,
      "AP": 0.4405611455440521
    }
  },
  "pipeline": {
    "detection_scores_tia": {
      "binary": {
        "f1": 0.7757627741698321,
        "prec": 0.6958672235656188,
        "rec": 0.8763842746400886
      },
      "cell_types": {
        "tumor_nonMitotic": {
          "f1": 0.5928481806775407,
          "prec": 0.5306007860752386,
          "rec": 0.6716417910447762
        },
        "tumor_mitotic": {
          "f1": 0.0,
          "prec": 0.0,
          "rec": 0.0
        },
        "nonTILnonMQ_stromal": {
          "f1": 0.3340390496353799,
          "prec": 0.29266281945589445,
          "rec": 0.38904109589041097
        },
        "macrophage": {
          "f1": 0.058823529411764705,
          "prec": 0.14035087719298245,
          "rec": 0.037209302325581395
        },
        "lymphocyte": {
          "f1": 0.3823482555360841,
          "prec": 0.293470286133529,
          "rec": 0.5484460694698354
        },
        "plasma_cell": {
          "f1": 0.16085078099036224,
          "prec": 0.2097053726169844,
          "rec": 0.13045822102425875
        },
        "other_nucleus": {
          "f1": 0.01335559265442404,
          "prec": 0.05063291139240506,
          "rec": 0.007692307692307693
        }
      }
    },
    "scores_ocelot": {
      "Pre/tumor_nonMitotic": 0.699,
      "Rec/tumor_nonMitotic": 0.8907,
      "F1/tumor_nonMitotic": 0.7833,
      "Pre/tumor_mitotic": 0.1429,
      "Rec/tumor_mitotic": 0.0227,
      "F1/tumor_mitotic": 0.0392,
      "Pre/nonTILnonMQ_stromal": 0.5767,
      "Rec/nonTILnonMQ_stromal": 0.7755,
      "F1/nonTILnonMQ_stromal": 0.6615,
      "Pre/macrophage": 0.3415,
      "Rec/macrophage": 0.1186,
      "F1/macrophage": 0.1761,
      "Pre/lymphocyte": 0.4912,
      "Rec/lymphocyte": 0.849,
      "F1/lymphocyte": 0.6224,
      "Pre/plasma_cell": 0.6355,
      "Rec/plasma_cell": 0.4911,
      "F1/plasma_cell": 0.554,
      "Pre/other_nucleus": 0.283,
      "Rec/other_nucleus": 0.0528,
      "F1/other_nucleus": 0.089,
      "mF1": 0.4179285714285714
    }
  }
}

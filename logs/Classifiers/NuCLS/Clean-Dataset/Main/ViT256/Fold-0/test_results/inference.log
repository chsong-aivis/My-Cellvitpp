[37m2024-07-10 19:52:13,316 [INFO] - <All keys matched successfully>
[37m2024-07-10 19:52:13,554 [INFO] - <All keys matched successfully>
[37m2024-07-10 19:52:13,555 [INFO] - Loading inference transformations
[37m2024-07-10 19:52:26,112 [INFO] - Extraction detection metrics - F1: 0.770, Precision: 0.883, Recall: 0.695
[37m2024-07-10 19:52:26,848 [INFO] - Global Scores - Without taking cell detection quality into account:
[37m2024-07-10 19:52:26,849 [INFO] - F1: 0.671 - Prec: 0.671 - Rec: 0.671 - Acc: 0.671 - Auroc: 0.904
[37m2024-07-10 19:52:30,142 [INFO] - Updating PanNuke-cell-preds with dataset specific classes
[37m2024-07-10 19:52:34,451 [INFO] - Calculating dataset scores according to TIA Evaluation guidelines
[37m2024-07-10 19:52:38,474 [INFO] - {'Pre/tumor_nonMitotic': 0.68, 'Rec/tumor_nonMitotic': 0.9045, 'F1/tumor_nonMitotic': 0.7763, 'Pre/tumor_mitotic': 0.0, 'Rec/tumor_mitotic': 0.0, 'F1/tumor_mitotic': 0.0, 'Pre/nonTILnonMQ_stromal': 0.5977, 'Rec/nonTILnonMQ_stromal': 0.7643, 'F1/nonTILnonMQ_stromal': 0.6708, 'Pre/macrophage': 0.1892, 'Rec/macrophage': 0.0593, 'F1/macrophage': 0.0903, 'Pre/lymphocyte': 0.5548, 'Rec/lymphocyte': 0.8627, 'F1/lymphocyte': 0.6753, 'Pre/plasma_cell': 0.677, 'Rec/plasma_cell': 0.7164, 'F1/plasma_cell': 0.6962, 'Pre/other_nucleus': 0.3571, 'Rec/other_nucleus': 0.0176, 'F1/other_nucleus': 0.0336, 'mF1': 0.4203571428571428}
[37m2024-07-10 19:52:38,476 [INFO] - **************************************************
[37m2024-07-10 19:52:38,479 [INFO] - {
  "cellvit_scores": {
    "F1": 0.7703041760251617,
    "Prec": 0.8832641121519952,
    "Rec": 0.695454830249982
  },
  "classifier": {
    "global": {
      "F1": 0.6707525253295898,
      "Prec": 0.6707525253295898,
      "Rec": 0.6707525253295898,
      "Acc": 0.6707525253295898,
      "Auroc": 0.9035196304321289,
      "AP": 0.4742075800895691
    }
  },
  "pipeline": {
    "detection_scores_tia": {
      "binary": {
        "f1": 0.7757627741698321,
        "prec": 0.6958672235656188,
        "rec": 0.8763842746400886
      },
      "cell_types": {
        "tumor_nonMitotic": {
          "f1": 0.5906862745098039,
          "prec": 0.5138592750533049,
          "rec": 0.6945244956772334
        },
        "tumor_mitotic": {
          "f1": 0.0,
          "prec": 0.0,
          "rec": 0.0
        },
        "nonTILnonMQ_stromal": {
          "f1": 0.34088142196250304,
          "prec": 0.30809859154929575,
          "rec": 0.3814713896457766
        },
        "macrophage": {
          "f1": 0.029197080291970802,
          "prec": 0.07272727272727272,
          "rec": 0.0182648401826484
        },
        "lymphocyte": {
          "f1": 0.42330434782608695,
          "prec": 0.3400391170718078,
          "rec": 0.5605711653615846
        },
        "plasma_cell": {
          "f1": 0.24253731343283583,
          "prec": 0.2584493041749503,
          "rec": 0.22847100175746923
        },
        "other_nucleus": {
          "f1": 0.0,
          "prec": 0.0,
          "rec": 0.0
        }
      }
    },
    "scores_ocelot": {
      "Pre/tumor_nonMitotic": 0.68,
      "Rec/tumor_nonMitotic": 0.9045,
      "F1/tumor_nonMitotic": 0.7763,
      "Pre/tumor_mitotic": 0.0,
      "Rec/tumor_mitotic": 0.0,
      "F1/tumor_mitotic": 0.0,
      "Pre/nonTILnonMQ_stromal": 0.5977,
      "Rec/nonTILnonMQ_stromal": 0.7643,
      "F1/nonTILnonMQ_stromal": 0.6708,
      "Pre/macrophage": 0.1892,
      "Rec/macrophage": 0.0593,
      "F1/macrophage": 0.0903,
      "Pre/lymphocyte": 0.5548,
      "Rec/lymphocyte": 0.8627,
      "F1/lymphocyte": 0.6753,
      "Pre/plasma_cell": 0.677,
      "Rec/plasma_cell": 0.7164,
      "F1/plasma_cell": 0.6962,
      "Pre/other_nucleus": 0.3571,
      "Rec/other_nucleus": 0.0176,
      "F1/other_nucleus": 0.0336,
      "mF1": 0.4203571428571428
    }
  }
}

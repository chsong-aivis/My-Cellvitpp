[37m2024-07-10 19:49:12,062 [INFO] - <All keys matched successfully>
[37m2024-07-10 19:49:16,309 [INFO] - <All keys matched successfully>
[37m2024-07-10 19:49:16,311 [INFO] - Loading inference transformations
[37m2024-07-10 19:49:44,912 [INFO] - Extraction detection metrics - F1: 0.769, Precision: 0.863, Recall: 0.706
[37m2024-07-10 19:49:45,159 [INFO] - Global Scores - Without taking cell detection quality into account:
[37m2024-07-10 19:49:45,159 [INFO] - F1: 0.684 - Prec: 0.684 - Rec: 0.684 - Acc: 0.684 - Auroc: 0.881
[37m2024-07-10 19:49:47,892 [INFO] - Updating PanNuke-cell-preds with dataset specific classes
[37m2024-07-10 19:49:48,981 [INFO] - Calculating dataset scores according to TIA Evaluation guidelines
[37m2024-07-10 19:49:51,045 [INFO] - {'Pre/tumor_nonMitotic': 0.7411, 'Rec/tumor_nonMitotic': 0.8958, 'F1/tumor_nonMitotic': 0.8112, 'Pre/tumor_mitotic': 0.5, 'Rec/tumor_mitotic': 0.1591, 'F1/tumor_mitotic': 0.2414, 'Pre/nonTILnonMQ_stromal': 0.576, 'Rec/nonTILnonMQ_stromal': 0.8346, 'F1/nonTILnonMQ_stromal': 0.6816, 'Pre/macrophage': 0.2857, 'Rec/macrophage': 0.0847, 'F1/macrophage': 0.1307, 'Pre/lymphocyte': 0.5456, 'Rec/lymphocyte': 0.8724, 'F1/lymphocyte': 0.6714, 'Pre/plasma_cell': 0.6624, 'Rec/plasma_cell': 0.4883, 'F1/plasma_cell': 0.5622, 'Pre/other_nucleus': 0.6667, 'Rec/other_nucleus': 0.0282, 'F1/other_nucleus': 0.0541, 'mF1': 0.45037142857142853}
[37m2024-07-10 19:49:51,046 [INFO] - **************************************************
[37m2024-07-10 19:49:51,051 [INFO] - {
  "cellvit_scores": {
    "F1": 0.7687582749558937,
    "Prec": 0.8633965890478855,
    "Rec": 0.7057863931375905
  },
  "classifier": {
    "global": {
      "F1": 0.6838515400886536,
      "Prec": 0.6838515400886536,
      "Rec": 0.6838515400886536,
      "Acc": 0.6838515400886536,
      "Auroc": 0.8810920715332031,
      "AP": 0.48908233642578125
    }
  },
  "pipeline": {
    "detection_scores_tia": {
      "binary": {
        "f1": 0.7791736983561472,
        "prec": 0.7103133903133904,
        "rec": 0.8628183831672204
      },
      "cell_types": {
        "tumor_nonMitotic": {
          "f1": 0.6213211249182472,
          "prec": 0.5631298162418494,
          "rec": 0.6929248723559446
        },
        "tumor_mitotic": {
          "f1": 0.12903225806451613,
          "prec": 0.4,
          "rec": 0.07692307692307693
        },
        "nonTILnonMQ_stromal": {
          "f1": 0.3648617243783407,
          "prec": 0.3036750483558994,
          "rec": 0.45692665890570433
        },
        "macrophage": {
          "f1": 0.06896551724137931,
          "prec": 0.19148936170212766,
          "rec": 0.04205607476635514
        },
        "lymphocyte": {
          "f1": 0.4283991039117698,
          "prec": 0.3392467248908297,
          "rec": 0.5811126694717158
        },
        "plasma_cell": {
          "f1": 0.2208849557522124,
          "prec": 0.29686013320647003,
          "rec": 0.17587373167981962
        },
        "other_nucleus": {
          "f1": 0.0,
          "prec": 0.0,
          "rec": 0.0
        }
      }
    },
    "scores_ocelot": {
      "Pre/tumor_nonMitotic": 0.7411,
      "Rec/tumor_nonMitotic": 0.8958,
      "F1/tumor_nonMitotic": 0.8112,
      "Pre/tumor_mitotic": 0.5,
      "Rec/tumor_mitotic": 0.1591,
      "F1/tumor_mitotic": 0.2414,
      "Pre/nonTILnonMQ_stromal": 0.576,
      "Rec/nonTILnonMQ_stromal": 0.8346,
      "F1/nonTILnonMQ_stromal": 0.6816,
      "Pre/macrophage": 0.2857,
      "Rec/macrophage": 0.0847,
      "F1/macrophage": 0.1307,
      "Pre/lymphocyte": 0.5456,
      "Rec/lymphocyte": 0.8724,
      "F1/lymphocyte": 0.6714,
      "Pre/plasma_cell": 0.6624,
      "Rec/plasma_cell": 0.4883,
      "F1/plasma_cell": 0.5622,
      "Pre/other_nucleus": 0.6667,
      "Rec/other_nucleus": 0.0282,
      "F1/other_nucleus": 0.0541,
      "mF1": 0.45037142857142853
    }
  }
}

[37m2024-07-10 19:50:04,863 [INFO] - <All keys matched successfully>
[37m2024-07-10 19:50:06,241 [INFO] - <All keys matched successfully>
[37m2024-07-10 19:50:06,243 [INFO] - Loading inference transformations
[37m2024-07-10 19:50:24,354 [INFO] - Extraction detection metrics - F1: 0.769, Precision: 0.873, Recall: 0.700
[37m2024-07-10 19:50:25,164 [INFO] - Global Scores - Without taking cell detection quality into account:
[37m2024-07-10 19:50:25,164 [INFO] - F1: 0.7 - Prec: 0.7 - Rec: 0.7 - Acc: 0.7 - Auroc: 0.89
[37m2024-07-10 19:50:31,020 [INFO] - Updating PanNuke-cell-preds with dataset specific classes
[37m2024-07-10 19:50:32,220 [INFO] - Calculating dataset scores according to TIA Evaluation guidelines
[37m2024-07-10 19:50:37,057 [INFO] - {'Pre/tumor_nonMitotic': 0.7325, 'Rec/tumor_nonMitotic': 0.8986, 'F1/tumor_nonMitotic': 0.8071, 'Pre/tumor_mitotic': 0.2727, 'Rec/tumor_mitotic': 0.1364, 'F1/tumor_mitotic': 0.1818, 'Pre/nonTILnonMQ_stromal': 0.5716, 'Rec/nonTILnonMQ_stromal': 0.8367, 'F1/nonTILnonMQ_stromal': 0.6792, 'Pre/macrophage': 0.2675, 'Rec/macrophage': 0.3559, 'F1/macrophage': 0.3055, 'Pre/lymphocyte': 0.5418, 'Rec/lymphocyte': 0.853, 'F1/lymphocyte': 0.6627, 'Pre/plasma_cell': 0.6949, 'Rec/plasma_cell': 0.462, 'F1/plasma_cell': 0.555, 'Pre/other_nucleus': 0.8992, 'Rec/other_nucleus': 0.4085, 'F1/other_nucleus': 0.5617, 'mF1': 0.5361428571428571}
[37m2024-07-10 19:50:37,059 [INFO] - **************************************************
[37m2024-07-10 19:50:37,064 [INFO] - {
  "cellvit_scores": {
    "F1": 0.7689866510773234,
    "Prec": 0.8734704122769809,
    "Rec": 0.7004049116847819
  },
  "classifier": {
    "global": {
      "F1": 0.6998586654663086,
      "Prec": 0.6998586654663086,
      "Rec": 0.6998586654663086,
      "Acc": 0.6998586654663086,
      "Auroc": 0.8897094130516052,
      "AP": 0.5389172434806824
    }
  },
  "pipeline": {
    "detection_scores_tia": {
      "binary": {
        "f1": 0.7758908170196999,
        "prec": 0.7004125320548557,
        "rec": 0.8696013289036545
      },
      "cell_types": {
        "tumor_nonMitotic": {
          "f1": 0.6504629629629629,
          "prec": 0.589098532494759,
          "rec": 0.7260981912144703
        },
        "tumor_mitotic": {
          "f1": 0.11428571428571428,
          "prec": 0.23076923076923078,
          "rec": 0.0759493670886076
        },
        "nonTILnonMQ_stromal": {
          "f1": 0.37572657521506625,
          "prec": 0.3126934984520124,
          "rec": 0.47058823529411764
        },
        "macrophage": {
          "f1": 0.125,
          "prec": 0.11711711711711711,
          "rec": 0.13402061855670103
        },
        "lymphocyte": {
          "f1": 0.4159337816864977,
          "prec": 0.3319570602807597,
          "rec": 0.556786703601108
        },
        "plasma_cell": {
          "f1": 0.20080615610113595,
          "prec": 0.2981501632208923,
          "rec": 0.15138121546961325
        },
        "other_nucleus": {
          "f1": 0.35578583765112265,
          "prec": 0.7463768115942029,
          "rec": 0.23356009070294784
        }
      }
    },
    "scores_ocelot": {
      "Pre/tumor_nonMitotic": 0.7325,
      "Rec/tumor_nonMitotic": 0.8986,
      "F1/tumor_nonMitotic": 0.8071,
      "Pre/tumor_mitotic": 0.2727,
      "Rec/tumor_mitotic": 0.1364,
      "F1/tumor_mitotic": 0.1818,
      "Pre/nonTILnonMQ_stromal": 0.5716,
      "Rec/nonTILnonMQ_stromal": 0.8367,
      "F1/nonTILnonMQ_stromal": 0.6792,
      "Pre/macrophage": 0.2675,
      "Rec/macrophage": 0.3559,
      "F1/macrophage": 0.3055,
      "Pre/lymphocyte": 0.5418,
      "Rec/lymphocyte": 0.853,
      "F1/lymphocyte": 0.6627,
      "Pre/plasma_cell": 0.6949,
      "Rec/plasma_cell": 0.462,
      "F1/plasma_cell": 0.555,
      "Pre/other_nucleus": 0.8992,
      "Rec/other_nucleus": 0.4085,
      "F1/other_nucleus": 0.5617,
      "mF1": 0.5361428571428571
    }
  }
}
